### 前端--服务端网络面试题

- https、http 的区别

```js
1. https 协议需要到 CA 申请证书，一般免费证书较少，因而需要一定的费用
2. http 是超文本传输协议，信息是明文传输，https 则是具有安全性的 ssl 加密传输协议
3. http 和 https 使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443
4. http 的连接很简单，是无状态的；https 协议是由 SSL + HTTP 协议构建的可进行加密传输、身份认证的网络协议，比 http 协议安全
```



- 浏览器输入 url 到页面呈现出来发生了什么？

```js
1. 进行地址解析
 - 解析出字符串地址中的主机，域名，端口号，参数等

2. 根据解析出的域名进行 DNS 解析
 - 首先在浏览器中查找 DNS 缓存中是否有对应的IP地址，如果有就直接使用，没有就执行第二步
 - 在操作系统中查找 DNS 缓存是否有对应的IP地址，如果有就直接使用，没有就执行第三步
 - 向本地DNS服务商发送请求查找时候有DNS对应的IP地址，如果仍然没有最后向Root Server服务商查询

3. 根据查询到的IP地址寻找目标服务器
 - 与服务器建立连接
 - 进入服务器，寻找对应的请求

4. 浏览器接收到响应码开始处理

5. 浏览器开始渲染dom，下载css、图片等一些资源，直到这次请求完成
```



- TCP 的三次握手和四次握手

```js
三次握手

 1. 第一次握手：客户端发送一个 SYN 码给服务器，要求建立数据连接
 2. 第二次握手：服务器 SYN 和自己处理一个 SYN（标志）；叫 SYN+ACK（确认包）；发送给客户端，可以建立连接
 3. 第三次握手：客户端再次发送 ACK 向服务器，服务器验证 ACK 没有问题，则建立起连接
 
四次挥手
 1. 第一次挥手：客户端发送 FIN（结束）报文，通知服务器数据已经传输完毕
 2. 第二次挥手：服务器接收到之后，通知客户端我收到了 SYN ，发送 ACK（确认）给客户端，数据还没有传输完成
 3. 第三次挥手：服务器已经传输完毕，再次发送 FIN 通知客户端，数据已经传输完毕
 4. 第四次挥手：客户端再次发送 ACK，进入 TIME_WAIT 状态；服务器和客户端关闭连接
```



- Cookie 如何防范 XSS 攻击？

```js
XSS（跨站脚本攻击）是指攻击者在返回的 HTML 中嵌入 JavaScript 脚本，为了减轻这些攻击，需要在 HTTP 头部配上，set-cookie：
 - httponly：这个属性可以防止 XSS，它会禁止 JavaScript 脚本来访问 cookie
 - secure：这个属性告诉浏览器仅在请求为 https 的时候发送 cookie
```



- web 上传漏洞原理？如何进行？防御手段？

```js
如何进行
 1. 用户上传了一个可执行的脚本文件，并通过此脚本文件获得了执行服务器端命令的能力
 
主要原理
 1. 当文件上传时没有对文件的格式和上传用户做验证，导致任意用户可以上传任意文件，那么这就是一个上传漏洞
 
防御手段
 1. 最有效的，将文件上传目录直接设置为不可执行，对于 Linux 而言，撤销其目录的'x'权限；实际中很多大型网站的上传应用都会放置在独立的存储上作为静态文件处理，一是方便使用缓存加速降低能耗，二是杜绝了脚本执行的可能性
 
 2. 文件类型检查：强烈推荐白名单方式，结合 MIME Type、后缀检查等方式；此外对于图片的处理可以使用压缩函数或 resize 函数，处理图片的同时破坏其包含的 HTML 代码
 
 3. 使用随机数改写文件名和文件路径，使得用户不能轻易访问自己上传的文件
 
 4. 单独设置文件服务器的域名
```

